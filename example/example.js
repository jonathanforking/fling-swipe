"use strict";(()=>{var h=Object.defineProperty;var m=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(o,t,e)=>t in o?h(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,d=(o,t)=>{for(var e in t||={})g.call(t,e)&&f(o,e,t[e]);if(m)for(var e of m(t))w.call(t,e)&&f(o,e,t[e]);return o};function T(o,t,e,n,i){var p;o.swipeConfig=(p=o.swipeConfig)!=null?p:{options:{mode:0,flingSpeed:.005,swipeDistance:.5,updateRate:5,horizontalLock:0,verticalLock:0},update:[],start:[],complete:[]};let r=o.swipeConfig;switch(i&&(r.options=d(d({},r.options),i)),t&&(r.start=[...new Set(r.start.concat(t))]),e&&(r.update=[...new Set(r.update.concat(e))]),n&&(r.complete=[...new Set(r.complete.concat(n))]),o.swipeProgress={startX:0,startY:0,distance:0,flingDirection:4,lastUpdate:0,movement:2},r.options.mode){case 0:o.style.touchAction="pan-y pinch-zoom";break;case 1:o.style.touchAction="pan-x pinch-zoom";break;case 2:o.style.touchAction="pinch-zoom";break}o.addEventListener("touchstart",C,{passive:!0}),o.addEventListener("touchmove",y,{passive:!1}),o.addEventListener("touchend",I,{passive:!0})}function a(o,...t){for(let e=0,n=o.length;e<n;e++)o[e](...t)}function C(o){let t=o.currentTarget.swipeProgress;t.startX=o.touches[0].clientX,t.startY=o.touches[0].clientY,t.lastUpdate=o.timeStamp}function y(o){let t=o.currentTarget,e=t.swipeProgress,n=t.swipeConfig,i=n.options,r=o.touches[0].clientX-e.startX,p=o.touches[0].clientY-e.startY;if(e.movement===2){let c=Math.abs(r),l=Math.abs(p);c>l&&c>i.horizontalLock?(a(n.start,t,0),e.movement=0):l>c&&l>i.verticalLock&&(a(n.start,t,1),e.movement=1)}else if(i.mode===e.movement||i.mode===2){o.preventDefault(),o.stopImmediatePropagation();let c=o.timeStamp-e.lastUpdate;if(c<i.updateRate)return;let l=e.movement?p/window.innerHeight:r/window.innerWidth;Math.abs(l-e.distance)/c>=i.flingSpeed?e.flingDirection=l>e.distance?e.movement?2:1:e.movement?0:3:e.flingDirection=4,a(n.update,t,l),e.distance=l,e.lastUpdate=o.timeStamp}}function I(o){let t=o.currentTarget,e=t.swipeConfig,n=t.swipeProgress,i=n.movement?2:1,r=n.movement?0:3;switch(n.flingDirection){case 4:{n.distance>e.options.swipeDistance?a(e.complete,t,i,1):n.distance<-e.options.swipeDistance?a(e.complete,t,r,1):a(e.complete,t,4,2);break}case 1:{n.distance>0?a(e.complete,t,i,0):a(e.complete,t,4,2);break}case 3:{n.distance<0?a(e.complete,t,r,0):a(e.complete,t,4,2);break}}t.swipeProgress={startX:0,startY:0,distance:0,flingDirection:4,lastUpdate:0,movement:2}}var u=!1,L=4,s=[[null,"yellow",null],["red","blue","green"],[null,"turquoise",null]];function M(o,t){for(let e of o.children)e.classList.remove("locked");u=t===0}function b(o,t){let e=o.children,n=t*100;u?(e[0].style.transform=`translateX(${-100+n}%)`,e[1].style.transform=`translateX(${0+n}%)`,e[2].style.transform=`translateX(${100+n}%)`):(e[3].style.transform=`translateY(${-100+n}%)`,e[1].style.transform=`translateY(${0+n}%)`,e[4].style.transform=`translateY(${100+n}%)`)}function v(o,t,e){L=t,o.addEventListener("transitionend",H,{once:!0});let n=o.children;switch(n[1].classList.add("locked"),t){case 3:n[2].classList.add("locked"),n[2].style.transform="translateX(0%)",n[1].style.transform="translateX(-100%)",n[0].style.removeProperty("transform");break;case 1:n[0].classList.add("locked"),n[0].style.transform="translateX(0%)",n[1].style.transform="translateX(100%)",n[2].style.removeProperty("transform");break;case 0:n[4].classList.add("locked"),n[4].style.transform="translateY(0%)",n[1].style.transform="translateY(-100%)",n[3].style.removeProperty("transform");break;case 2:n[3].classList.add("locked"),n[3].style.transform="translateY(0%)",n[1].style.transform="translateY(100%)",n[4].style.removeProperty("transform");break;case 4:for(let i of n)i.classList.add("locked"),i.style.removeProperty("transform");break}}function H(o){switch(L){case 3:s[1].push(s[1].shift());break;case 1:s[1].unshift(s[1].pop());break;case 0:s[2][0]=s[0][1],s[0][1]=s[1][1],s[1][1]=s[2][1],s[2].unshift(s[2].pop());break;case 2:console.log(JSON.stringify(s)),s[0][0]=s[2][1],s[2][1]=s[1][1],s[1][1]=s[0][1],s[0].unshift(s[0].pop()),console.log(JSON.stringify(s));break}let t=o.target.parentElement;for(let e of t.children)e.classList.remove("locked"),e.style.removeProperty("transform");E(t),requestAnimationFrame(()=>requestAnimationFrame(()=>{for(let e of t.children)e.classList.add("locked")}))}function E(o){let t=o.children;t[3].style.setProperty("background-color",s[0][1]),t[0].style.setProperty("background-color",s[1][0]),t[1].style.setProperty("background-color",s[1][1]),t[2].style.setProperty("background-color",s[1][2]),t[4].style.setProperty("background-color",s[2][1])}var O=document.getElementById("swipeable");E(O);T(O,M,b,v,{mode:2});})();
